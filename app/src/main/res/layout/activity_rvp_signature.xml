<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context="in.ecomexpress.sathi.ui.drs.rvp.signature.RVPSignatureActivity">

    <data>

        <import type="android.view.View" />

        <variable
            name="viewModel"
            type="in.ecomexpress.sathi.ui.drs.rvp.signature.RVPSignatureViewModel" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/offwhite">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/linearLayout2"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="@color/white">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/header"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="@color/rvptool"
                android:padding="@dimen/_10DP"
                app:layout_constraintTop_toTopOf="parent">

                <com.google.android.material.imageview.ShapeableImageView
                    android:id="@+id/imageViewBack"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:onClick="@{() -> viewModel.onBackClick()}"
                    android:src="@drawable/back"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:tint="@color/white" />


                <com.google.android.material.textview.MaterialTextView
                    style="@style/TextStyle.Title.Sub"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/rvp_signature"
                    android:textColor="@color/white"
                    android:textSize="@dimen/_13SP"
                    android:textStyle="bold"
                    android:fontFamily="@font/roboto_bold"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toStartOf="@id/imageViewNext"
                    app:layout_constraintStart_toEndOf="@id/imageViewBack"
                    app:layout_constraintTop_toTopOf="parent" />


                <com.google.android.material.textview.MaterialTextView
                    android:id="@+id/imageViewNext"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/v2_0_0"
                    android:fontFamily="@font/roboto_bold"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    android:textColor="@color/yellow"
                    android:textSize="@dimen/_13SP" />

            </androidx.constraintlayout.widget.ConstraintLayout>

            <View
                android:id="@+id/view"
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="@color/red_ecom"
                app:layout_constraintTop_toBottomOf="@id/header" />

            <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/awb_cl"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:background="@color/white"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toBottomOf="@id/view">

                <com.google.android.material.textview.MaterialTextView
                    android:id="@+id/awb_tv"
                    style="@style/TextStyle.Title.Sub"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/awb"
                    android:textColor="@color/black"
                    android:textSize="@dimen/_13SP"
                    android:textStyle="bold"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintEnd_toStartOf="@id/awb"
                    app:layout_constraintBottom_toBottomOf="parent"/>

                <com.google.android.material.textview.MaterialTextView
                    android:id="@+id/awb"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@{viewModel.awbNo}"
                    android:textColor="@color/black"
                    android:textSize="@dimen/_13SP"
                    android:fontFamily="@font/roboto_bold"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toEndOf="@id/awb_tv"/>
            </androidx.constraintlayout.widget.ConstraintLayout>

            <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/address_cl"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginStart="@dimen/_5DP"
                android:layout_marginEnd="@dimen/_5DP"
                android:padding="@dimen/_5DP"
                app:layout_constraintTop_toBottomOf="@id/awb_cl">

                <com.google.android.material.textview.MaterialTextView
                    android:id="@+id/address_tv"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:text="@string/pick_up_address"
                    android:fontFamily="@font/roboto_bold"
                    android:textColor="@color/black"
                    app:layout_constraintTop_toTopOf="parent"
                    android:textSize="@dimen/_13SP" />

                <RadioGroup
                    android:id="@+id/rg_delivery_place"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/_5DP"
                    android:orientation="horizontal"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/address_tv">

                        <com.google.android.material.radiobutton.MaterialRadioButton
                            android:id="@+id/rb_office"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:buttonTint="@color/rvptool"
                            android:checked="false"
                            android:text="@string/office"
                            android:textColor="@color/black"
                            android:layout_weight="0.5"
                            android:textSize="@dimen/_13SP" />

                        <com.google.android.material.radiobutton.MaterialRadioButton
                            android:id="@+id/rb_residence"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:buttonTint="@color/rvptool"
                            android:checked="false"
                            android:layout_weight="0.5"
                            android:text="@string/residence"
                            android:textColor="@color/black"
                            android:textSize="@dimen/_13SP" />

                        <com.google.android.material.radiobutton.MaterialRadioButton
                            android:id="@+id/rb_other"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:buttonTint="@color/rvptool"
                            android:checked="false"
                            android:text="@string/other"
                            android:layout_weight="0.5"
                            android:textColor="@color/black"
                            android:textSize="@dimen/_13SP" />

                </RadioGroup>


                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/vehicle_cl"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/_5DP"
                    android:layout_marginBottom="@dimen/_5DP"
                    app:layout_constraintTop_toBottomOf="@id/rg_delivery_place">

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/pick_tv"
                        android:layout_width="@dimen/_0DP"
                        android:layout_height="wrap_content"
                        android:text="@string/picked_from"
                        android:textColor="@color/black"
                        android:fontFamily="@font/roboto_bold"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintEnd_toStartOf="@id/spinner_vehicle_type"
                        android:textSize="@dimen/_13SP" />

                    <Spinner
                        android:id="@+id/spinner_vehicle_type"
                        android:layout_width="@dimen/_0DP"
                        android:layout_height="wrap_content"
                        android:background="@drawable/spinner_custom"
                        android:entries="@array/relation"
                        android:onItemSelected="@{(parent,view,pos,id)->viewModel.onReceiver(parent)}"
                        android:padding="@dimen/_5DP"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintStart_toEndOf="@id/pick_tv"
                        app:layout_constraintEnd_toEndOf="parent"
                        android:theme="@style/MatchSpinnerTheme" />
                </androidx.constraintlayout.widget.ConstraintLayout>

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/etEmail"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@drawable/border"
                    android:cursorVisible="true"
                    android:digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-' 1234567890"
                    android:hint="@string/sender_s_name"
                    android:inputType="textCapWords"
                    android:maxLength="25"
                    android:padding="@dimen/_10DP"
                    app:layout_constraintTop_toBottomOf="@id/vehicle_cl"
                    android:text="@={viewModel.receiverName}"
                    android:textColor="@color/black"
                    android:textSize="@dimen/_13SP" />

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/ll_captue_image_one"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/_5DP"
                    app:layout_constraintTop_toBottomOf="@id/etEmail">

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/txtMandatory"
                        android:layout_width="@dimen/_0DP"
                        android:layout_height="wrap_content"
                        android:text="@string/capture_image"
                        android:fontFamily="@font/roboto_bold"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintEnd_toStartOf="@id/txt1"
                        android:textColor="@color/black"
                        android:textSize="@dimen/_13SP" />

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/txt1"
                        android:layout_width="@dimen/_0DP"
                        android:layout_height="wrap_content"
                        android:text=""
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        android:textColor="@color/black"
                        android:fontFamily="@font/roboto_bold"
                        app:layout_constraintStart_toEndOf="@id/txtMandatory"
                        app:layout_constraintEnd_toStartOf="@id/image"
                        android:textSize="@dimen/_13SP" />

                    <com.google.android.material.imageview.ShapeableImageView
                        android:id="@+id/image"
                        android:layout_width="@dimen/_30DP"
                        android:layout_height="@dimen/_30DP"
                        android:padding="@dimen/_2DP"
                        android:entries="@array/relation"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintEnd_toEndOf="parent"
                        android:onClick="@{()->viewModel.onCaptureImageClick()}"
                        app:srcCompat="@drawable/cam" />
                </androidx.constraintlayout.widget.ConstraintLayout>

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/ll_captue_image_two"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/_5DP"
                    app:layout_constraintTop_toBottomOf="@id/ll_captue_image_one">

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/txtMandatory_two"
                        android:layout_width="@dimen/_0DP"
                        android:layout_height="wrap_content"
                        android:text="@string/capture_image_two"
                        app:layout_constraintEnd_toStartOf="@id/txt2"
                        android:textColor="@color/black"
                        android:fontFamily="@font/roboto_bold"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        android:textSize="@dimen/_13SP" />

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/txt2"
                        android:layout_width="wrap_content"
                        android:layout_height="match_parent"
                        android:text=""
                        android:fontFamily="@font/roboto_bold"
                        app:layout_constraintStart_toEndOf="@id/txtMandatory_two"
                        app:layout_constraintEnd_toStartOf="@id/imagetwo"
                        android:textColor="@color/black"
                        android:textSize="@dimen/_13SP" />

                    <com.google.android.material.imageview.ShapeableImageView
                        android:id="@+id/imagetwo"
                        android:layout_width="@dimen/_30DP"
                        android:layout_height="@dimen/_30DP"
                        android:padding="@dimen/_2DP"
                        android:entries="@array/relation"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintBottom_toBottomOf="parent"
                        android:onClick="@{()->viewModel.onCaptureImageClickTwo()}"
                        app:srcCompat="@drawable/cam" />
                </androidx.constraintlayout.widget.ConstraintLayout>
            </androidx.constraintlayout.widget.ConstraintLayout>

            <com.google.android.material.card.MaterialCardView
                android:id="@+id/signature_cv"
                android:layout_width="match_parent"
                android:layout_height="@dimen/_0DP"
                app:cardBackgroundColor="@color/white"
                app:cardCornerRadius="@dimen/_7DP"
                app:cardElevation="@dimen/_25DP"
                app:layout_constraintBottom_toTopOf="@id/guideline"
                app:layout_constraintTop_toBottomOf="@id/address_cl">

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_margin="@dimen/_5DP"
                    android:background="@color/offwhite">

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/tv_text"
                        style="@style/TextStyle.Title.Sub"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:textAlignment="center"
                        android:fontFamily="@font/roboto_regular"
                        app:layout_constraintTop_toTopOf="parent"
                        android:text="@string/please_read_and_sign_confirming_to_the_receipt_declaration_as_under"
                        android:textColor="@color/gray"
                        android:textSize="@dimen/_12SP" />


                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/ll_singature_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:padding="@dimen/_5DP"
                        app:layout_constraintTop_toBottomOf="@id/tv_text">

                        <com.google.android.material.textview.MaterialTextView
                            android:id="@+id/signature_tv"
                            android:layout_width="@dimen/_0DP"
                            android:layout_height="wrap_content"
                            android:text="@string/signature"
                            android:fontFamily="@font/roboto_bold"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent"
                            app:layout_constraintBottom_toBottomOf="parent"
                            android:textColor="@color/black"
                            android:textSize="@dimen/_13SP" />

                        <com.google.android.material.textview.MaterialTextView
                            android:layout_width="@dimen/_0DP"
                            android:layout_height="wrap_content"
                            android:onClick="@{()->viewModel.onClear()}"
                            android:text="@string/clear"
                            android:fontFamily="@font/roboto_bold"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent"
                            app:layout_constraintBottom_toBottomOf="parent"
                            android:textColor="@color/rvptool"
                            android:textSize="@dimen/_13SP" />
                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <androidx.cardview.widget.CardView
                        android:id="@+id/signature_view"
                        android:layout_width="match_parent"
                        android:layout_height="@dimen/_0DP"
                        app:cardBackgroundColor="@color/bluelite"
                        app:layout_constraintBottom_toTopOf="@id/tv_declare"
                        app:layout_constraintTop_toBottomOf="@id/ll_singature_text"
                        app:cardCornerRadius="@dimen/_7DP"
                        app:cardElevation="@dimen/_25DP">

                        <FrameLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent">

                            <androidx.constraintlayout.widget.ConstraintLayout
                                android:id="@+id/ll_singature_pad"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:layout_margin="@dimen/_5DP"
                                android:background="@color/white">

                                <in.ecomexpress.sathi.utils.signature_pad.views.SignaturePad
                                    android:id="@+id/signature"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:background="@null"
                                    app:layout_constraintTop_toTopOf="parent"
                                    app:layout_constraintBottom_toBottomOf="parent"
                                    android:minHeight="@dimen/_200DP" />


                            </androidx.constraintlayout.widget.ConstraintLayout>

                            <androidx.constraintlayout.widget.ConstraintLayout
                                android:id="@+id/ll_watemark_text"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:background="@color/gray_ecom">

                                <com.google.android.material.textview.MaterialTextView
                                    style="@style/TextStyle.Title.Sub"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    app:layout_constraintTop_toTopOf="parent"
                                    app:layout_constraintBottom_toBottomOf="parent"
                                    app:layout_constraintStart_toStartOf="parent"
                                    app:layout_constraintEnd_toEndOf="parent"
                                    android:fontFamily="@font/roboto_regular"
                                    android:text="@string/no_need_to_take_signature_at_this_activity"
                                    android:textColor="@color/gray"
                                    android:textSize="@dimen/_12SP"
                                    android:visibility="gone" />
                            </androidx.constraintlayout.widget.ConstraintLayout>
                        </FrameLayout>
                    </androidx.cardview.widget.CardView>

                    <com.google.android.material.textview.MaterialTextView
                        android:id="@+id/tv_declare"
                        style="@style/TextStyle.Title.Sub"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:fontFamily="@font/roboto_regular"
                        android:textAlignment="center"
                        app:layout_constraintBottom_toBottomOf="parent"
                        android:text="@string/i_hereby_declare_shipment_receipt_in_packed_sealed_condition_from_ecom_express"
                        android:textColor="@color/gray"
                        android:textSize="@dimen/_12SP" />

                </androidx.constraintlayout.widget.ConstraintLayout>

            </com.google.android.material.card.MaterialCardView>

            <androidx.constraintlayout.widget.Guideline
                android:id="@+id/guideline"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                app:layout_constraintGuide_percent=".90" />

            <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/lltFooter"
                android:layout_width="match_parent"
                android:layout_height="@dimen/_0DP"
                android:layout_margin="@dimen/_10DP"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintTop_toBottomOf="@id/guideline">

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_submit"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@drawable/rvp_button"
                    android:onClick="@{() -> viewModel.onSubmitClick()}"
                    android:text="@string/submit_"
                    app:backgroundTint="@null"
                    app:layout_constraintBottom_toBottomOf="parent"
                    android:textColor="@color/white"
                    android:textSize="@dimen/_15SP"
                    android:textStyle="bold" />

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>

        <com.google.android.material.progressindicator.CircularProgressIndicator
            android:id="@+id/address_looking_up"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:indeterminate="true"
            android:visibility="@{viewModel.isLoading ? View.VISIBLE : View.GONE}"
            app:indicatorSize="@dimen/_40DP"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>